Node-Nginx服务器大纲
主题
- 服务器作用
  - 接收http请求
  - 反向代理
    反向代理（Reverse Proxy）方式是指以代理服务器来接受 internet上 的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给 internet 上请求连接的客户端，此时代理服务器对外就表现为一个反向代理服务器。简单来说就是真实的服务器不能直接被外部网络访问，所以需要一台代理服务器，而代理服务器能被外部网络访问的同时又跟真实服务器在同一个网络环境，当然也可能是同一台服务器，端口不同而已。
  - 负载均衡
    当有2台或以上服务器时，根据规则随机的将请求分发到指定的服务器上处理，负载均衡配置一般都需要同时配置反向代理，通过反向代理跳转到负载均衡。
  - 静态文件托管
    静态资源的服务器，代理访问文件
- 性能问题
 - C10K问题（即单机1万个并发连接问题）
   初的服务器都是基于进程/线程模型的，新到来一个TCP连接，就需要分配1个进程（或者线程）。而进程又是操作系统最昂贵的资源，一台机器无法创建很多进程。如果是C10K就要创建1万个进程，那么操作系统是无法承受的。如果是采用分布式系统，维持1亿用户在线需要10万台服务器，成本巨大，也只有Facebook，Google，雅虎才有财力购买如此多的服务器。这就是C10K问题的本质。
 - 表现
   - 连接
     每一个用户都必须与服务器保持TCP连接才能进行实时的数据交互。Facebook这样的网站同一时间的并发TCP连接可能会过亿。
   - 处理
     主要思路有两个：一个是对于每个连接处理分配一个独立的进程/线程；另一个思路是用同一进程/线程来同时处理若干连接
   - 返回
     方案 select, poll, epoll
 - C10M(既C10000K，千万并发连接）
   表现
   - 连接
   - 处理
   - 返回
- 工作原理
 - 进程，子进程，线程，协程概念说明
 - 进程模型拓展说明
   - 单进程
     - 特点&示例
     - 优缺点
     - 如何应对C10K，C10M
   - 多进程
     - 特点&示例
     - 优缺点
     - 如何应对C10K，C10M
   - 多线程
     - 特点
     - 优缺点
     - 如何应对C10K，C10M
   - 协程
     - 特点&示例
     - 优缺点
     - 如何应对C10K，C10M
- nodejs单进程异步模型
  - 如何应对C10K，C10M
  - 异步模型
    - libuv.c 异步IO库实现的事件引擎
  - 代表：pm2.js
    - fork模式
      - 实现原理
        - child_process模块
      - 特点
      - 优缺点
      - 如何应对C10K，C10M
    - cluster模式
      - 实现原理
        - cluster模块
      - 特点
      - 优缺点
- 功能模块
 - 进程模型
   - child_processs模块
   - cluster模块
 - 文件流
   - file模块
   - 示例gulp
 - http
   - nodejs http模块
 - socket
   - 简单示例和作用
   - net模块
 - webSocket
   - 实现机制
   - socket.io
- node实现
 - cluster多核
 - http响应
 - 文件流
 - socket
 - webSocket
 - demo展示
- 性能测试，运行对接
 - 一个webSocket服务
 - 一个socket服务
 - 一个包含不同文件的文件夹
 - 一个http服务器
